import socket 
import os
import sys
byts = 4096 
def UDP():  
    #Define the target and port number
    TargetIP = '192.168.1.?' #This will be the IP address of the pi Zero Server
    TargetPort = 8080 #The default port we will use to connect and communicate with the server
    TargetAddress = (TargetIP, TargetPort)

    #Create the socket. Remember this is a UDP connection, and as such, is connectionless based 
    client = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

    #Begin sending data
    while True:
         
        cmd = input("Enter A Command Now: => ") 

        if cmd == "send file":
            print("Pulling up the directory")
            os.system("dir")
            SelectFile = input("Enter the file name shown to send to the server: =>")
            
            FileName = SelectFile
            ReadFileData = open(FileName)
            ReadFileBytes = ReadFileData.read(1024)
            while ReadFileBytes:
                client.sendto(ReadFileBytes, TargetAddress)
                ReadFileBytes = ReadFileData.read(1024)
            ReadFileData.close()
            

        else:
            somedata = cmd
            data = str.encode(somedata)

            client.sendto(data, TargetAddress)
            ServerResponse = client.recvfrom(byts)
            print(ServerResponse)
         

UDP()