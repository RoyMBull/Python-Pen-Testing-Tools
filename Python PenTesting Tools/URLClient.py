import urllib
import urllib.request #THis allow sus to send request headers to HTTP servers which is good for HTTP parameter tampering
from urllib.request import urlopen

#The firs thing we need to do is se tup the mian target and Http HEADDERS THAT WE ARE GOING TO SEND OVER TO THE MAIN TARGE
host = "http://localhost:90" #This is going to target our HTTP server on port 80

#PUT request 
headers = {}

headers ["PUT"] = " /new.html HTTP/1.1" #We need to make a file where the PUT request for the HTTP cleint is being made
headers ["Host"] = "localhost:90"
headers ["Content-type"] = "text/html" #THis is going to set the content type that we are piping over to the main server 
headers ["Content-length"] = "16" #We ae going to se tthe maximu length to be roughly 20 bytes long
headers ["User-Agent"] = "Googlebot" #This identifies the main agent we will idetify ass (VERY CRUCIAL IN THAT WE CAN BYPASS CERTAIN FIELDS MIMIKING ANOTHER END USER AGENT)

#Next we need to generate and establish the main request to the target
connection = urllib.request.Request(host, headers=headers)

#Next we need to read in the response from the mian request
response = urllib.request.urlopen(connection) 
data = str(response.read())

#Now we just need to print out the main request
print(data) #The read function will parse and read through any and all data that's in the request

#We are now gonna save the mian conetents from the conneftion to a file 
connectiodata = open("URLRequest.txt", 'w')
connectiodata.write(data)
connectiodata.close()

#Now it's time to test if the main file is going to be written to the target server 
